# =============================================================================
# SprintLite Environment Configuration Template
# =============================================================================
# This file serves as a TEMPLATE for environment variables.
# Copy this file and rename it based on your environment:
#   - .env.local          ‚Üí Your personal local development (never commit)
#   - .env.development    ‚Üí Team shared development settings (can commit)
#   - .env.staging        ‚Üí Staging environment (use GitHub Secrets in CI/CD)
#   - .env.production     ‚Üí Production environment (use cloud secret managers)
#
# SECURITY CRITICAL:
# - NEVER commit files with real secrets (.env.local, real credentials)
# - Always use placeholder values in this .env.example file
# - For production/staging, inject secrets via CI/CD or cloud providers
# =============================================================================

# -----------------------------------------------------------------------------
# VARIABLE NAMING RULES (Next.js Specific)
# -----------------------------------------------------------------------------
# üîí SERVER-SIDE ONLY: Variables WITHOUT the NEXT_PUBLIC_ prefix
#    - Only accessible in API routes, server components, getServerSideProps
#    - NEVER exposed to the browser/client bundle
#    - Use for: database URLs, API keys, authentication secrets
#    - Example: DATABASE_URL, SMTP_PASSWORD, AWS_SECRET_ACCESS_KEY
#
# üåê CLIENT-SIDE SAFE: Variables WITH the NEXT_PUBLIC_ prefix
#    - Exposed to the browser and included in the client-side JavaScript bundle
#    - Visible in browser DevTools and Network tab
#    - Use for: public API endpoints, feature flags, analytics IDs
#    - Example: NEXT_PUBLIC_APP_URL, NEXT_PUBLIC_API_BASE_URL
#
# ‚ö†Ô∏è CRITICAL WARNING:
# - Variables are embedded at BUILD TIME, not runtime
# - Changing .env after build requires rebuild: npm run build
# - Never put secrets in NEXT_PUBLIC_ variables (they're PUBLIC!)
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------

# Server-side: Node environment mode (development, production)
NODE_ENV=development

# Client-side: Application environment identifier
# Used in UI to show environment badge, enable/disable features
NEXT_PUBLIC_APP_ENV=development

# Client-side: Frontend application URL
# Visible in browser, used for CORS, redirects, canonical URLs
NEXT_PUBLIC_APP_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (SERVER-SIDE ONLY - NEVER USE NEXT_PUBLIC_)
# -----------------------------------------------------------------------------

# üîí PostgreSQL connection string - MUST remain server-side
# Format: postgresql://username:password@host:port/database?sslmode=require
# Used by: Prisma ORM, API routes for database operations
# Security: Contains credentials - NEVER prefix with NEXT_PUBLIC_
# Example for local: postgresql://postgres:password@localhost:5432/sprintlite
# Example for Neon: postgresql://user:pass@ep-xxxxx.us-east-1.aws.neon.tech/dbname
DATABASE_URL=postgresql://username:password@host:port/database_name

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY (SERVER-SIDE ONLY)
# -----------------------------------------------------------------------------

# üîí NextAuth configuration - MUST remain server-side
# Used for: JWT signing, session encryption, OAuth callbacks
# Generate with: openssl rand -base64 32 (minimum 32 characters)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your_secure_random_secret_at_least_32_characters_long

# üîí Session encryption key (if using custom session management)
SESSION_SECRET=your_session_encryption_key_minimum_32_chars

# üîí JWT configuration - MUST remain server-side
# Used for: Token signing and verification
# Generate with: openssl rand -base64 32 (minimum 32 characters)
JWT_SECRET=your_jwt_secret_key_at_least_32_characters_long
JWT_EXPIRES_IN=1h

# -----------------------------------------------------------------------------
# CACHING & REDIS (SERVER-SIDE ONLY)
# -----------------------------------------------------------------------------

# üîí Redis connection URL - Contains credentials, keep server-side
# Format: redis://[username]:[password]@host:port
# Used for: Session storage, API response caching
# Local: redis://localhost:6379
# Cloud: redis://default:password@redis-12345.cloud.redislabs.com:6379
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# EMAIL SERVICE (SERVER-SIDE ONLY)
# -----------------------------------------------------------------------------

# üîí SMTP credentials - MUST remain server-side
# Used for: Welcome emails, password resets, notifications
# Providers: SendGrid, Mailgun, AWS SES, Mailtrap (testing)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_FROM_EMAIL=noreply@sprintlite.com

# -----------------------------------------------------------------------------
# AWS / CLOUD SERVICES (SERVER-SIDE ONLY)
# -----------------------------------------------------------------------------

# üîí AWS credentials - MUST remain server-side
# Used for: S3 file uploads, SES email, CloudWatch logs
# Obtain from: AWS IAM Console ‚Üí Create Access Key
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIA_YOUR_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=your_secret_access_key_here
AWS_S3_BUCKET_NAME=sprintlite-uploads

# -----------------------------------------------------------------------------
# THIRD-PARTY SERVICES (CLIENT-SIDE SAFE - PUBLIC IDs ONLY)
# -----------------------------------------------------------------------------

# üåê Sentry error tracking - DSN is safe to expose
# Used for: Frontend and backend error monitoring
# Obtain from: Sentry.io ‚Üí Project Settings ‚Üí Client Keys (DSN)
NEXT_PUBLIC_SENTRY_DSN=https://public_key@sentry.io/project_id

# üåê Google Analytics / Posthog - Tracking IDs are public
NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
NEXT_PUBLIC_POSTHOG_KEY=phc_your_public_key

# -----------------------------------------------------------------------------
# FEATURE FLAGS (CLIENT-SIDE - CONTROLS UI BEHAVIOR)
# -----------------------------------------------------------------------------

# üåê Toggle features on/off per environment
# These are PUBLIC - only use for non-sensitive feature toggles
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_ENABLE_DEBUG=false
NEXT_PUBLIC_ENABLE_COMMENTS=true
NEXT_PUBLIC_ENABLE_FILE_UPLOADS=false

# -----------------------------------------------------------------------------
# COMMON PITFALLS TO AVOID
# -----------------------------------------------------------------------------
# ‚ùå DON'T: DATABASE_URL with NEXT_PUBLIC_ prefix (exposes credentials!)
# ‚ùå DON'T: Change .env after build and expect changes (requires rebuild)
# ‚ùå DON'T: Commit .env.local or files with real secrets to Git
# ‚ùå DON'T: Use process.env in client components for server-only variables
# 
# ‚úÖ DO: Use NEXT_PUBLIC_ only for truly public configuration
# ‚úÖ DO: Generate strong secrets with: openssl rand -base64 32
# ‚úÖ DO: Store production secrets in GitHub Secrets or AWS Secrets Manager
# ‚úÖ DO: Test with .env.local, commit .env.example as template
# ‚úÖ DO: Rebuild after changing environment variables
# -----------------------------------------------------------------------------

# Production Only - Performance & Monitoring
NEW_RELIC_LICENSE_KEY=your_new_relic_key
NEXT_PUBLIC_CSP_NONCE=your_csp_nonce
